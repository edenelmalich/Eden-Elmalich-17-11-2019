(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(20),l=a.n(c),s=a(34),i=a(17),o=a(23),u=a(28),m=a(116),p=a(66),d=a(115),h=a(119),f=a(24),y=a(16),E=Object(y.b)((function(e){return{alerts:e.alertReducer}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return n.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))})),v=a(26),g=a(27),b=a.n(g),O=a(29),T=a.n(O),N=a(44),w=a(21),D=a.n(w),R=a(64),W=a.n(R),j=function(e,t){return function(a){var r=W.a.v4();a({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return a({type:"REMOVE_ALERT",payload:r})}),5e3)}};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var A=Object(y.b)((function(e){return{getDefaultWeather:e.getWeatherReducer.getDefaultWeather,currentWeather:e.getWeatherReducer.currentWeather,dayDaily:e.getWeatherReducer.dayDaily,DayTime:e.getWeatherReducer.DayTime,City:e.getWeatherReducer.City,Fail:e.getWeatherReducer.Fail}}),{getDefaultDetails:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(a){var r,n,c,l;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="NqPAKAodoRAPd13KdqtBB0ByB9MQrr1m",t.prev=1,t.next=4,D.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(r,"&q=").concat(e));case 4:return n=t.sent,a({type:"GET_DEFAULT_WEATHER",payload:n.data[0]}),t.next=8,D.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(n.data[0].Key,"?apikey=").concat(r));case 8:return c=t.sent,a({type:"CURRENT_WEATHER",payload:c.data}),t.next=12,D.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(n.data[0].Key,"?apikey=").concat(r));case 12:l=t.sent,a({type:"DAY_DAILY",payload:l.data.DailyForecasts}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),a({type:"FAIL"});case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}()},setAlert:j})((function(e){var t=e.getDefaultDetails,a=e.getDefaultWeather,c=e.currentWeather,l=e.dayDaily,s=(e.DayTime,e.City),i=e.setAlert,y=e.Fail,g=Object(r.useRef)(!1),O=Object(r.useState)([]),T=Object(u.a)(O,2),N=T[0],w=T[1],D=Object(r.useState)({cityName:""}),R=Object(u.a)(D,2),W=R[0],j=R[1];Object(r.useEffect)((function(){if(!g.current){g.current=!0;var e=JSON.parse(localStorage.getItem("favorites"))||[];w(e),t(s)}}),[t,s]);var A=function(e){return j(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},W,Object(o.a)({},e.target.name,e.target.value)))};y&&i("Server Error","danger");var I=W.cityName;return n.a.createElement("div",{className:"Home"},n.a.createElement("main",{className:"Main"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},"Welcome to the weather app"),n.a.createElement("div",{className:"mainText "},"Come see the weather anytime, anywhere."),n.a.createElement(m.a,{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(I)}(e)},inline:!0},n.a.createElement(p.a,{type:"text",placeholder:"Enter a city...",className:"mr-sm-2",name:"cityName",value:I,onChange:function(e){return A(e)}}),n.a.createElement(d.a,{type:"submit",variant:"outline-success"},"Search")),n.a.createElement(E,null),n.a.createElement(h.a,{bg:"light",text:"white",id:"Card-height",style:{width:"100%"}},n.a.createElement(h.a.Header,null,N.map((function(e,t){return n.a.createElement("span",{key:t},e.Key===a.Key?n.a.createElement(f.a,{id:"Favorites-icon",icon:v.a}):null)})),n.a.createElement(d.a,{onClick:function(e){return function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("favorites"))||[];if(!t.length>0)return t.push(a),i("The city was successfully added to the list","success"),localStorage.setItem("favorites",JSON.stringify(t)),!0;for(var r=0;r<t.length;r++)if(t[r].Key===a.Key)return i("The city is on the list","danger");t.push(a),i("The city was successfully added to the list","success"),localStorage.setItem("favorites",JSON.stringify(t))}(e)},variant:"dark"},"Add to Favorites")),n.a.createElement(h.a.Title,null,n.a.createElement("div",null,n.a.createElement("header",{className:"weatherHeader"},a.LocalizedName))),n.a.createElement(h.a.Text,null,c.map((function(e){return n.a.createElement("span",{key:"1"},e.WeatherIcon<10?n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/0".concat(e.WeatherIcon,"-s.png"),alt:e.WeatherText}):n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/".concat(e.WeatherIcon,"-s.png"),alt:e.WeatherText}),n.a.createElement("span",{className:"WeatherText"},b()(e.LocalObservationDateTime).format("dddd"),",",e.IsDayTime?n.a.createElement("span",null,"Day"):n.a.createElement("span",null," Night")),n.a.createElement("span",{className:"WeatherText"},e.WeatherText),n.a.createElement("span",{className:"Temperature"},e.Temperature.Metric.Value,"\xb0"))}))),n.a.createElement(h.a.Body,null,l.map((function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"daysCards"},n.a.createElement(h.a,{bg:"light",text:"white",id:"daysCards-card-size"},n.a.createElement(h.a.Header,null,b()(e.Date).format("dddd")),n.a.createElement("div",null,e.Day.Icon<10?n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/0".concat(e.Day.Icon,"-s.png"),alt:e.Day.IconPhrase}):n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/".concat(e.Day.Icon,"-s.png"),alt:e.Day.IconPhrase})),n.a.createElement("div",{className:"text-icon "},e.Day.IconPhrase),n.a.createElement(h.a.Body,null,n.a.createElement(h.a.Text,null,n.a.createElement("span",{className:"text-temp"},"Minimum ",e.Temperature.Minimum.Value,"F"),n.a.createElement("span",{className:"text-temp"},"Maximum ",e.Temperature.Maximum.Value,"F"))))))})))))))})),I=a(3),S=a.n(I),C=function(e){var t=e.weatherResponses,a=e.getCurrent,c=e.setCityName,l=e.setAlert,i=e.Fail,o=Object(r.useRef)(!1),m=Object(r.useState)([]),p=Object(u.a)(m,2),f=p[0],y=p[1];Object(r.useEffect)((function(){if(!o.current){o.current=!0;var e=JSON.parse(localStorage.getItem("favorites"))||[];y(e)}}),[]),Object(r.useEffect)((function(){!function(e){if(e.length>0)for(var t=0;t<e.length;t++)a(e[t].LocalizedName)}(f)}),[f,a]);return i&&l("Server Error","danger"),n.a.createElement("div",{className:"Favorites"},n.a.createElement("main",{className:"Main"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"}," Your Favorites Cities"),n.a.createElement(E,null),n.a.createElement("div",{className:"card-att"},f.length>0?f.map((function(e,a){return n.a.createElement("div",{key:a},n.a.createElement(h.a,{style:{width:"18rem"}},n.a.createElement(s.b,{to:"/",onClick:function(){return c(e.LocalizedName)}},n.a.createElement(h.a.Header,null,e.LocalizedName,", ",e.Country.ID),n.a.createElement(h.a.Body,null,n.a.createElement(h.a.Text,null,n.a.createElement("span",null,t.map((function(e,t){return n.a.createElement("span",{key:t},t===a?n.a.createElement("span",null,e.WeatherIcon<10?n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/0".concat(e.WeatherIcon,"-s.png"),alt:e.WeatherText}):n.a.createElement("img",{className:"icon-weather",src:"https://developer.accuweather.com/sites/default/files/".concat(e.WeatherIcon,"-s.png"),alt:e.WeatherText}),n.a.createElement("span",{className:"WeatherText"},b()(e.LocalObservationDateTime).format("dddd"),",",e.IsDayTime?n.a.createElement("span",null,"Day"):n.a.createElement("span",null,"Night")),n.a.createElement("span",{className:"WeatherText"},e.WeatherText),n.a.createElement("span",{className:"Temperature"},e.Temperature.Metric.Value,"\xb0")):null)})))))),n.a.createElement(d.a,{onClick:function(){return function(e){var t=f.filter((function(t){return t.Key!==e}));localStorage.setItem("favorites",JSON.stringify(t)),y(t),l("The city was deleted from the list","danger")}(e.Key)},variant:"outline-success"},"Remove")))})):null))))};C.propType={getCurrent:S.a.func.isRequired,weatherResponses:S.a.array,Fail:S.a.bool};var F=Object(y.b)((function(e){return{weatherResponses:e.getWeatherReducer.weatherResponses,Fail:e.getWeatherReducer.Fail}}),{getCurrent:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(a){var r,n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="NqPAKAodoRAPd13KdqtBB0ByB9MQrr1m",t.prev=1,t.next=4,D.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(r,"&q=").concat(e));case 4:return n=t.sent,t.next=7,D.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(n.data[0].Key,"?apikey=").concat(r));case 7:c=t.sent,a({type:"SET_CURRENT",payload:c.data[0]}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"FAIL"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},setCityName:function(e){return function(t){t({type:"CITY_NAME",payload:e})}},setAlert:j})(C),k=function(){return n.a.createElement("footer",{className:"footer Footer-top Footer-Padding"},n.a.createElement("div",null,"\xa9 2019 Eden Elmalich"))},P=a(117),L=a(118),_=a(68),M=a.n(_),B=function(){return n.a.createElement("div",{className:"Nav"},n.a.createElement(P.a,{bg:"light",expand:"lg"},n.a.createElement(P.a.Brand,{href:"/"},n.a.createElement("img",{id:"logo-size",src:M.a,alt:"Weather logo"})),n.a.createElement(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(P.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(L.a,{className:"mr-auto"},n.a.createElement(L.a.Link,{href:"/"},n.a.createElement(f.a,{icon:v.b}),"Home"),n.a.createElement(L.a.Link,{href:"/Favorites"},n.a.createElement(f.a,{icon:v.a}),"Favorites")))))},K=(a(112),a(14)),H=a(71),J=a(72),q=a(37);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={getDefaultWeather:[],currentWeather:[],dayDaily:[],DayTime:null,City:"tel aviv",Fail:!1,weatherResponses:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_DEFAULT_WEATHER":return z({},e,{getDefaultWeather:r});case"CURRENT_WEATHER":return z({},e,{currentWeather:r,DayTime:r[0].IsDayTime});case"DAY_DAILY":return z({},e,{dayDaily:r});case"CITY_NAME":return z({},e,{City:r});case"SET_CURRENT":return z({},e,{weatherResponses:[].concat(Object(q.a)(e.weatherResponses),[r])});case"FAIL":return z({},e,{Fail:!0});default:return e}},G=[],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(q.a)(e),[r]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==r}));default:return e}},X=Object(K.combineReducers)({getWeatherReducer:V,alertReducer:Q}),Z=[H.a],$=Object(K.createStore)(X,{},Object(J.composeWithDevTools)(K.applyMiddleware.apply(void 0,Z)));var ee=function(){return n.a.createElement(y.a,{store:$},n.a.createElement(s.a,null,n.a.createElement(B,null),n.a.createElement("div",{className:"App"},n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",exact:!0,component:A}),n.a.createElement(i.a,{path:"/Favorites",component:F})),n.a.createElement(k,null))))};l.a.render(n.a.createElement(ee,null),document.getElementById("root"))},68:function(e,t,a){e.exports=a.p+"static/media/Weather.77ca0ddf.png"},73:function(e,t,a){e.exports=a(113)}},[[73,1,2]]]);
//# sourceMappingURL=main.5a911def.chunk.js.map